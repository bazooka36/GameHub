<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="GameHub - лучший портал для онлайн и оффлайн игр. Найди свою игру среди тысяч игр в нашей коллекции.">
    <meta name="keywords" content="игры, онлайн игры, PC игры, консольные игры, игровой портал">
    <meta name="author" content="GameHub Team">
    <meta name="language" content="ru">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#1e293b">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://gamehub.com/">
    <meta property="og:title" content="GameHub - Мир игр">
    <meta property="og:description" content="Лучший портал для онлайн и оффлайн игр. Найди свою игру среди тысяч игр в нашей коллекции.">
    <meta property="og:image" content="https://gamehub.com/images/og-image.jpg">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://gamehub.com/">
    <meta property="twitter:title" content="GameHub - Мир игр">
    <meta property="twitter:description" content="Лучший портал для онлайн и оффлайн игр. Найди свою игру среди тысяч игр в нашей коллекции.">
    <meta property="twitter:image" content="https://gamehub.com/images/twitter-image.jpg">
    
    <title>GameHub - Мир игр</title>
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="manifest" href="site.webmanifest">
    
    <!-- Preload critical resources -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Tailwind CSS (CDN - для разработки, для продакшена используйте PostCSS) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles/variables.css">
    <link rel="stylesheet" href="styles/animations.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/modals.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/search-dropdown.css">
</head>
<body class="text-white min-h-screen bg-[#181b20]">
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-blue-600 text-white px-4 py-2 rounded z-50">
        Перейти к основному содержимому
    </a>

    <!-- Header -->
    <header class="bg-black/20 backdrop-blur-xl sticky top-0 z-50 border-b border-white/10 shadow-2xl content-hidden">
        <nav class="max-w-7xl mx-auto px-8" role="navigation" aria-label="Главная навигация">
            <div class="flex items-center justify-between h-20">
                <div class="flex items-center flex-shrink-0">
                    <a href="#" class="text-3xl font-bold text-white hover:text-blue-400 transition-colors duration-300" aria-label="GameHub - Главная страница">
                        <i class="fas fa-gamepad text-gray-400 mr-3 text-4xl" aria-hidden="true"></i>
                        <span class="bg-gradient-to-r from-gray-400 to-gray-600 bg-clip-text text-transparent">GameHub</span>
                    </a>
                </div>
                
                <!-- Desktop Navigation -->
                <div class="flex items-center">
                    <div class="flex space-x-8" role="menubar">
                        <button type="button" id="home-nav-btn" class="px-4 py-3 rounded-xl text-sm font-medium hover:bg-white/10 transition-all duration-300 transform hover:scale-105 backdrop-blur-sm bg-gradient-to-r from-gray-100 to-gray-400 bg-clip-text text-transparent" role="menuitem" aria-current="page">
                            <i class="fas fa-home mr-2" aria-hidden="true"></i>Главная
                        </button>
                        <button type="button" id="all-games-nav-btn" class="px-4 py-3 rounded-xl text-sm font-medium hover:bg-white/10 transition-all duration-300 transform hover:scale-105 backdrop-blur-sm bg-gradient-to-r from-gray-100 to-gray-400 bg-clip-text text-transparent" role="menuitem">
                            <i class="fas fa-gamepad mr-2" aria-hidden="true"></i>Все игры
                        </button>
                        <button type="button" id="news-nav-btn" class="px-4 py-3 rounded-xl text-sm font-medium hover:bg-white/10 transition-all duration-300 transform hover:scale-105 backdrop-blur-sm bg-gradient-to-r from-gray-100 to-gray-400 bg-clip-text text-transparent" role="menuitem">
                            <i class="fas fa-newspaper mr-2" aria-hidden="true"></i>Новости
                        </button>
                    </div>
                </div>
                
                <!-- User Actions -->
                <div class="flex items-center">
                    <!-- Header Search -->
                    <div class="relative flex items-center mr-4">
                        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none"></i>
                        <input 
                            type="text" 
                            id="header-game-search" 
                            placeholder="Поиск..." 
                            class="bg-black/20 border border-white/10 text-white rounded-full py-2 pl-10 pr-4 w-52 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 placeholder-gray-400"
                            aria-label="Поиск игр"
                        >
                        <!-- Search Results Dropdown -->
                        <div id="header-search-results" class="absolute right-0 top-full mt-2 w-96 bg-[#181b20] rounded-lg shadow-2xl border border-gray-800 hidden z-50 p-4">
                            <!-- Results will be populated here -->
                        </div>
                    </div>

                    <div class="flex items-center ml-6 space-x-3">
                        <button type="button" class="bg-white/10 backdrop-blur-md border border-white/20 hover:bg-white/20 text-white px-6 py-3 rounded-xl text-sm font-medium transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center" id="desktop-register-btn" aria-label="Регистрация">
                            <i class="fas fa-user-plus mr-2" aria-hidden="true"></i> Регистрация
                        </button>
                        <button type="button" class="bg-white/10 backdrop-blur-md border border-white/20 hover:bg-white/20 text-white px-6 py-3 rounded-xl text-sm font-medium transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center" id="desktop-login-btn" aria-label="Вход в систему">
                            <i class="fas fa-sign-in-alt mr-2" aria-hidden="true"></i> Вход
                        </button>
                        <!-- User Menu -->
                        <div class="burger-menu ml-4" role="menu" aria-label="Меню пользователя">
                            <button type="button" class="burger-menu-button" aria-label="Открыть меню пользователя" aria-expanded="false" aria-haspopup="true">
                                <i class="fas fa-bars" aria-hidden="true"></i>
                            </button>
                            <div class="burger-menu-overlay"></div>
                            <div class="burger-menu-content" role="menu" aria-label="Опции пользователя">
                                <div class="burger-menu-item flex items-center gap-3" id="profile-option" role="menuitem" tabindex="0">
                                    <img id="burger-profile-avatar" src="https://via.placeholder.com/40" alt="Avatar" class="w-8 h-8 rounded-full object-cover border-2 border-gray-600">
                                    <span id="burger-profile-username">Профиль</span>
                                </div>
                                <div class="burger-menu-item" id="friends-option" role="menuitem" tabindex="0">
                                    <i class="fas fa-users" aria-hidden="true"></i>
                                    Друзья
                                </div>
                                <div class="burger-menu-divider"></div>
                                <div class="burger-menu-item" id="desktop-change-password-btn" role="menuitem" tabindex="0">
                                    <i class="fas fa-key" aria-hidden="true"></i>
                                    Изменить пароль
                                </div>
                                <div class="burger-menu-item" id="desktop-delete-account-btn" role="menuitem" tabindex="0">
                                    <i class="fas fa-user-times" aria-hidden="true"></i>
                                    Удалить аккаунт
                                </div>
                                <div class="burger-menu-item" id="desktop-logout-btn" role="menuitem" tabindex="0">
                                    <i class="fas fa-sign-out-alt" aria-hidden="true"></i>
                                    Выйти
                                </div>
                                <div class="burger-menu-item" id="about-option" role="menuitem" tabindex="0">
                                    <i class="fas fa-info-circle" aria-hidden="true"></i>
                                    О проекте
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main id="main-content" class="flex-1 content-hidden">
        <section id="games-slider-section" class="max-w-7xl mx-auto px-8 py-0 mt-10">
            <div class="relative w-full flex items-start gap-8">
                <div class="relative flex-1 min-w-0 max-w-[62%]" id="games-slider-main-card"></div>
                <div class="flex flex-col gap-8 w-[38%] min-w-[340px] max-w-[440px] mt-0" id="games-slider-side-cards"></div>
            </div>
            <div class="mt-12">
                <div id="games-grid-section" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-5 gap-6"></div>
            </div>
    </main>

    <!-- News Page (SPA style) -->
    <div id="news-page" class="hidden w-full min-h-[80vh] px-0 py-12 flex flex-col items-center">
        <div class="w-full max-w-3xl mx-auto p-0 relative">
            <h2 class="text-2xl font-bold mb-8 text-white mt-12">Новости</h2>
            <div id="news-list-page" class="flex flex-col gap-8">
                <!-- Новости будут добавляться сюда -->
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer class="bg-transparent border-t border-gray-800 mt-20 content-hidden" role="contentinfo">
        <div class="max-w-7xl mx-auto px-8 py-12">
            <div class="grid grid-cols-2 gap-8">
                <div>
                    <h3 class="text-2xl font-bold mb-4 flex items-center">
                        <i class="fas fa-gamepad text-gray-400 mr-3 text-3xl" aria-hidden="true"></i>
                        <span class="bg-gradient-to-r from-gray-400 to-gray-600 bg-clip-text text-transparent">GameHub</span>
                    </h3>
                    <p class="text-gray-400 text-base">
                        Лучший портал для онлайн и оффлайн игр. Присоединяйтесь к нашему сообществу!
                    </p>
                    <div class="flex space-x-4 mt-4">
                        <a href="https://www.instagram.com/bazooka_official" class="text-gray-400 hover:text-white transition text-xl" aria-label="Instagram">
                            <i class="fab fa-instagram" aria-hidden="true"></i>
                        </a>
                        <a href="https://discord.gg/tyCKVa3a" class="text-gray-400 hover:text-white transition text-xl" aria-label="Discord">
                            <i class="fab fa-discord" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
                <div>
                    <h4 class="font-medium mb-4 bg-gradient-to-r from-gray-100 to-gray-400 bg-clip-text text-transparent">Техподдержка</h4>
                    <p class="text-gray-400 text-sm mb-4">
                        Если у вас возникли вопросы, пожалуйста свяжитесь с нами
                    </p>
                    <div class="space-y-3">
                        <div class="flex">
                            <input type="email" id="support-email" placeholder="Ваш email" class="bg-gray-800 text-white px-4 py-2 rounded-l-lg border border-gray-600 focus:border-blue-500 focus:outline-none w-full" aria-label="Email для техподдержки">
                            <button id="submit-support-ticket" class="bg-gray-800 border border-gray-600 border-l-0 focus:border-blue-500 hover:bg-blue-700 text-white px-4 py-2 rounded-r-lg transition" aria-label="Отправить запрос в техподдержку">
                                <i class="fas fa-paper-plane" aria-hidden="true"></i>
                            </button>
                        </div>
                        <input type="text" id="support-subject" placeholder="Тема проблемы" class="bg-gray-800 text-white px-4 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none w-full text-sm" aria-label="Тема проблемы">
                        <textarea id="support-message" placeholder="Опишите вашу проблему..." class="bg-gray-800 text-white px-4 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none w-full text-sm h-20 resize-none" aria-label="Описание проблемы"></textarea>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-10 pt-6 flex flex-row justify-between items-center">
                <p class="text-sm bg-gradient-to-r from-gray-100 to-gray-400 bg-clip-text text-transparent">
                    © 2025 GameHub. Все права защищены.
                </p>
                <nav class="flex space-x-6" role="navigation" aria-label="Дополнительная навигация">
                    <a href="#" class="text-sm bg-gradient-to-r from-gray-100 to-gray-400 bg-clip-text text-transparent">Правила</a>
                    <a href="#" class="text-sm bg-gradient-to-r from-gray-100 to-gray-400 bg-clip-text text-transparent">Конфиденциальность</a>
                    <a href="#" class="text-sm bg-gradient-to-r from-gray-100 to-gray-400 bg-clip-text text-transparent">Cookies</a>
                </nav>
            </div>
        </div>
    </footer>

    <!-- Auth Modal -->
    <div id="forgot-password-modal" class="auth-modal fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[9999] backdrop-blur-sm hidden" role="dialog" aria-modal="true" aria-labelledby="forgot-password-modal-title">
        <div class="auth-content relative bg-gray-900 rounded-xl p-8 shadow-2xl border border-gray-700 text-white w-full max-w-md mx-4">
            <h2 id="forgot-password-modal-title" class="text-2xl font-bold text-gray-100 mb-6 text-center">Сброс пароля</h2>
            <button type="button" class="absolute top-4 right-4 text-gray-400 hover:text-gray-200 transition" id="close-password-reset-modal" aria-label="Закрыть">
                <i class="fas fa-times text-xl"></i>
            </button>
            <div id="forgot-password-message" role="alert" aria-live="polite"></div>
            
            <!-- Step 1: Email verification -->
            <form id="forgot-password-form" class="auth-form active">
                <div class="form-group mb-4">
                    <label for="forgot-password-email" class="form-label block text-gray-300 text-sm font-medium mb-2">Email</label>
                    <input type="email" id="forgot-password-email" placeholder="Введите ваш email" required aria-label="Email для сброса пароля" class="w-full px-4 py-3 bg-gray-800 text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 border border-gray-700">
                </div>
                <button type="submit" class="w-full bg-gray-700 hover:bg-gray-600 text-gray-200 px-4 py-3 rounded-lg font-medium transition-all duration-300 shadow-md">Проверить email</button>
            </form>
            
            <!-- Step 2: New password -->
            <form id="new-password-form" class="auth-form" style="display: none;">
                <div class="form-group mb-4">
                    <label for="new-password-input" class="form-label block text-gray-300 text-sm font-medium mb-2">Новый пароль</label>
                    <div class="relative-input">
                        <input type="password" id="new-password-input" placeholder="Введите новый пароль" required aria-label="Новый пароль" class="w-full px-4 py-3 bg-gray-800 text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 border border-gray-700">
                    </div>
                </div>
                <div class="form-group mb-4">
                    <label for="confirm-new-password-input" class="form-label block text-gray-300 text-sm font-medium mb-2">Подтвердите новый пароль</label>
                    <div class="relative-input">
                        <input type="password" id="confirm-new-password-input" placeholder="Подтвердите новый пароль" required aria-label="Подтверждение нового пароля" class="w-full px-4 py-3 bg-gray-800 text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 border border-gray-700">
                    </div>
                </div>
                <button type="button" id="toggle-new-password-visibility" class="w-full mb-4 py-2 rounded bg-gray-700 text-gray-200 hover:bg-gray-600 transition text-sm shadow-md">Показать пароль</button>
                <ul id="new-password-policy" class="text-xs mb-4 pl-4 list-disc text-gray-400" role="list" aria-label="Требования к паролю">
                    <li id="new-policy-length">Минимум 8 символов</li>
                    <li id="new-policy-lower">Хотя бы одна строчная буква</li>
                    <li id="new-policy-digit">Хотя бы одна цифра</li>
                </ul>
                <button type="submit" class="w-full bg-gray-700 hover:bg-gray-600 text-gray-200 px-4 py-3 rounded-lg font-medium transition-all duration-300 shadow-md">Изменить пароль</button>
            </form>
        </div>
    </div>

    <div id="auth-modal" class="auth-modal fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[9999] backdrop-blur-sm hidden" role="dialog" aria-modal="true" aria-labelledby="auth-modal-title" aria-describedby="auth-modal-description">
        <div class="auth-content bg-gray-900 rounded-xl p-8 shadow-2xl border border-gray-700 text-white w-full max-w-md mx-4">
            <div class="auth-tabs flex mb-6 border-b border-gray-700" role="tablist">
                <button id="show-login" class="auth-tab flex-1 py-3 text-lg font-medium text-center text-gray-300 hover:text-gray-100 border-b-2 border-transparent hover:border-gray-500 transition-colors duration-300 active:border-gray-500 active:text-gray-100 focus:outline-none" role="tab" aria-selected="true" aria-controls="login-form">Вход</button>
                <button id="show-register" class="auth-tab flex-1 py-3 text-lg font-medium text-center text-gray-300 hover:text-gray-100 border-b-2 border-transparent hover:border-gray-500 transition-colors duration-300 focus:outline-none" role="tab" aria-selected="false" aria-controls="register-form">Регистрация</button>
            </div>
            <div id="auth-message" role="alert" aria-live="polite"></div>
            <form id="login-form" class="auth-form active" role="tabpanel" aria-labelledby="show-login">
                <div class="form-group mb-4">
                    <label for="login-email" class="form-label block text-gray-300 text-sm font-medium mb-2">Email</label>
                    <input type="email" id="login-email" placeholder="Введите ваш email" required aria-label="Email для входа" class="w-full px-4 py-3 bg-gray-800 text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 border border-gray-700">
                </div>
                <div class="form-group mb-6">
                    <label for="login-password" class="form-label block text-gray-300 text-sm font-medium mb-2">Пароль</label>
                    <input type="password" id="login-password" placeholder="Введите ваш пароль" required aria-label="Пароль для входа" class="w-full px-4 py-3 bg-gray-800 text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 border border-gray-700">
                    <button type="button" id="toggle-login-password-visibility" class="w-full mt-2 text-white font-medium bg-gray-600 px-4 py-2 rounded transition text-sm" tabindex="-1" aria-label="Показать пароль">Показать пароль</button>
                </div>
                <button type="submit" class="w-full bg-gray-700 hover:bg-gray-600 text-gray-200 px-4 py-3 rounded-lg font-medium transition-all duration-300 shadow-md">Войти</button>
                <div class="text-right mt-4">
                    <button type="button" id="forgot-password-link" class="text-gray-400 hover:text-gray-200 text-xs bg-transparent border-none">Забыли пароль?</button>
                </div>
            </form>
            <form id="register-form" class="auth-form" role="tabpanel" aria-labelledby="show-register" aria-hidden="true">
                <div class="form-group mb-4">
                    <label for="register-email" class="form-label block text-gray-300 text-sm font-medium mb-2">Email</label>
                    <input type="email" id="register-email" placeholder="Введите ваш email" required aria-label="Email для регистрации" class="w-full px-4 py-3 bg-gray-800 text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 border border-gray-700">
                </div>
                <div class="form-group mb-4">
                    <label for="register-password" class="form-label block text-gray-300 text-sm font-medium mb-2">Пароль</label>
                    <div class="relative-input">
                        <input type="password" id="register-password" placeholder="Создайте пароль" required aria-label="Пароль для регистрации" class="w-full px-4 py-3 bg-gray-800 text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 border border-gray-700">
                    </div>
                </div>
                <div class="form-group mb-6">
                    <label for="register-password-confirm" class="form-label block text-gray-300 text-sm font-medium mb-2">Подтверждение пароля</label>
                    <div class="relative-input">
                        <input type="password" id="register-password-confirm" placeholder="Подтвердите пароль" required aria-label="Подтверждение пароля для регистрации" class="w-full px-4 py-3 bg-gray-800 text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 border border-gray-700">
                    </div>
                </div>
                <button type="button" id="toggle-password-visibility" class="w-full mb-4 py-2 rounded bg-gray-700 text-gray-200 hover:bg-gray-600 transition text-sm shadow-md">Показать пароль</button>
                <ul id="password-policy" class="text-xs mb-4 pl-4 list-disc text-gray-400" role="list" aria-label="Требования к паролю">
                    <li id="policy-length">Минимум 8 символов</li>
                    <li id="policy-lower">Хотя бы одна строчная буква</li>
                    <li id="policy-digit">Хотя бы одна цифра</li>
                </ul>
                <button type="submit" class="w-full bg-gray-700 hover:bg-gray-600 text-gray-200 px-4 py-3 rounded-lg font-medium transition-all duration-300 shadow-md">Зарегистрироваться</button>
            </form>
        </div>
    </div>

    <!-- Profile Modal -->
    <div id="profile-modal" class="profile-modal fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[9999] backdrop-blur-sm hidden" role="dialog" aria-modal="true" aria-labelledby="profile-modal-title">
        <div class="profile-content bg-gray-900 rounded-xl p-8 shadow-2xl border border-gray-700 text-white w-full max-w-md mx-4">
            <button type="button" class="profile-close absolute top-4 right-4 text-gray-400 hover:text-gray-200 transition" aria-label="Закрыть">
                <i class="fas fa-times text-xl"></i>
            </button>
            <div class="profile-header text-center mb-6">
                <div class="profile-avatar relative w-32 h-32 mx-auto mb-4 rounded-full overflow-hidden border-4 border-gray-700 shadow-lg" id="profile-avatar" role="button" tabindex="0" aria-label="Изменить аватар">
                    <img id="avatar-preview" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxNTAiIGhlaWdodD0iMTUwIiBmaWxsPSIjM2I0MDU2Ii8+CjxjaXJjbGUgY3g9Ijc1IiBjeT0iNjAiIHI9IjIwIiBmaWxsPSIjNjM3Mzk0Ii8+CjxwYXRoIGQ9Ik0yNSA5NUMzNSA4NSAzNSA4MCAyNSA3MEMxNSA2MCAxNSA1NSAyNSA0NUw0MCAyNUw2MCAyNUw3NSA0NUM4NSA1NSA4NSA2MCA3NSA3MEM2NSA4MCA2NSA4NSA3NSA5NUw2MCAxMjVMNDAgMTI1TDI1IDk1WiIgZmlsbD0iIzYzNzM5NCIvPgo8L3N2Zz4K" alt="" class="w-full h-full object-cover">
                    <div class="profile-avatar-overlay absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity duration-300">
                        <i class="fas fa-camera text-white text-2xl" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="profile-id text-gray-400 text-sm" id="profile-id">ID: Loading...</div>
            </div>
            <form id="profile-form" class="profile-form">
                <input type="text" id="username" name="username" placeholder="Имя пользователя" required aria-label="Имя пользователя" class="w-full px-4 py-3 bg-gray-800 text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 border border-gray-700 mb-4">
                <textarea id="user-description" name="description" maxlength="150" placeholder="Описание профиля (до 150 символов)" aria-label="Описание профиля" class="w-full px-4 py-3 bg-gray-800 text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 border border-gray-700 mb-2 resize-none" rows="3"></textarea>
                <div class="text-right text-xs text-gray-400 mb-4"><span id="desc-char-count">0</span>/150</div>
                <button type="submit" class="w-full bg-gray-700 hover:bg-gray-600 text-gray-200 px-4 py-3 rounded-lg font-medium transition-all duration-300 shadow-md">Сохранить изменения</button>
            </form>
            <!-- Скрытый input для загрузки аватарки -->
            <input type="file" id="avatar-input" accept="image/*" style="display: none;" aria-label="Выбрать аватарку">
            <div id="profile-message" class="profile-message text-center mt-4 text-sm text-gray-300" role="alert" aria-live="polite"></div>
        </div>
    </div>

    <!-- Friends Modal -->
    <div id="friends-modal" class="friends-modal fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[9999] backdrop-blur-sm hidden" role="dialog" aria-modal="true" aria-labelledby="friends-modal-title">
        <div class="friends-content bg-gray-900 rounded-xl p-8 shadow-2xl border border-gray-700 text-white w-full max-w-md mx-4">
            <div class="friends-header flex justify-between items-center mb-6">
                <div class="friends-title text-2xl font-bold text-gray-100" id="friends-modal-title">Друзья</div>
                <button class="add-friend-button bg-gray-700 hover:bg-gray-600 text-gray-200 px-4 py-2 rounded-lg font-medium transition-all duration-300 shadow-md flex items-center gap-2" id="add-friend-button" aria-label="Добавить друга">
                    <i class="fas fa-user-plus" aria-hidden="true"></i>
                    Добавить друга
                </button>
            </div>
            <!-- Friend Requests Section -->
            <div class="friend-requests-section hidden mb-6 pb-4 border-b border-gray-700" id="friend-requests-section">
                <div class="friend-requests-title text-xl font-semibold text-gray-200 mb-4 flex items-center gap-2">
                    <i class="fas fa-user-clock text-gray-400" aria-hidden="true"></i>
                    Запросы в друзья
                </div>
                <div id="friend-requests-list" class="space-y-3">
                    <!-- Friend requests will be added here dynamically -->
                </div>
            </div>
            <div class="friends-list space-y-3" id="friends-list" role="list" aria-label="Список друзей">
                <!-- Friends will be added here dynamically -->
            </div>
        </div>
    </div>

    <!-- Add Friend Modal -->
    <div id="add-friend-modal" class="friends-modal fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[9999] backdrop-blur-sm hidden" role="dialog" aria-modal="true" aria-labelledby="add-friend-modal-title">
        <div class="friends-content bg-gray-900 rounded-xl p-8 shadow-2xl border border-gray-700 text-white w-full max-w-md mx-4">
            <div class="friends-header text-center mb-6">
                <div class="friends-title text-2xl font-bold text-gray-100" id="add-friend-modal-title">Добавить друга</div>
            </div>
            <div class="search-container mb-4">
                <input type="text" class="search-input w-full px-4 py-3 bg-gray-800 text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 border border-gray-700 mb-4" id="friend-id-input" placeholder="Введите ID пользователя" aria-label="ID пользователя для поиска">
                <button class="search-button w-full bg-gray-700 hover:bg-gray-600 text-gray-200 px-4 py-3 rounded-lg font-medium transition-all duration-300 shadow-md flex items-center justify-center gap-2" id="search-friend-button" aria-label="Найти пользователя">
                    <i class="fas fa-search mr-2" aria-hidden="true"></i>
                    Найти пользователя
                </button>
            </div>
            <div id="search-result-container" role="region" aria-label="Результаты поиска пользователя" class="space-y-3">
                <!-- Search results will be added here dynamically -->
            </div>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div id="change-password-modal" class="auth-modal fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[9999] backdrop-blur-sm hidden" role="dialog" aria-modal="true" aria-labelledby="change-password-modal-title">
        <div class="auth-content bg-gray-900 rounded-xl p-8 shadow-2xl border border-gray-700 text-white w-full max-w-md mx-4">
            <h2 class="text-2xl font-bold text-gray-100 mb-6 text-center" id="change-password-modal-title">Изменить пароль</h2>
            <button type="button" class="absolute top-4 right-4 text-gray-400 hover:text-gray-200 transition" id="close-change-password-modal" aria-label="Закрыть">
                <i class="fas fa-times text-xl"></i>
            </button>
            <div id="change-password-message" role="alert" aria-live="polite"></div>
            <form id="change-password-form" class="auth-form active">
                <div class="form-group mb-4">
                    <input type="password" id="current-password" placeholder="Текущий пароль" required aria-label="Текущий пароль" class="w-full px-4 py-3 bg-gray-800 text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 border border-gray-700">
                </div>
                <div class="form-group mb-4">
                    <input type="password" id="new-password" placeholder="Новый пароль" required aria-label="Новый пароль" class="w-full px-4 py-3 bg-gray-800 text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 border border-gray-700">
                </div>
                <div class="form-group mb-6">
                    <input type="password" id="confirm-new-password" placeholder="Подтвердите новый пароль" required aria-label="Подтверждение нового пароля" class="w-full px-4 py-3 bg-gray-800 text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 border border-gray-700">
                </div>
                <button type="button" id="toggle-all-passwords-visibility" class="w-full mb-4 text-white font-medium bg-gray-600 px-4 py-2 rounded transition text-sm" tabindex="-1" aria-label="Показать пароли">Показать пароли</button>
                <ul id="change-password-policy" class="text-xs mb-4 pl-4 list-disc text-gray-400" role="list" aria-label="Требования к паролю">
                    <li id="change-policy-length">Минимум 8 символов</li>
                    <li id="change-policy-lower">Хотя бы одна строчная буква</li>
                    <li id="change-policy-digit">Хотя бы одна цифра</li>
                </ul>
                <button type="submit" class="w-full bg-gray-700 hover:bg-gray-600 text-gray-200 px-4 py-3 rounded-lg font-medium transition-all duration-300 shadow-md">Изменить пароль</button>
            </form>
        </div>
    </div>

    <!-- Add Loading Screen -->
    <div class="loading" id="loading-screen" role="status" aria-label="Загрузка">
        <div class="loading-text">
            <span class="loading-letter">G</span>
            <span class="loading-letter">a</span>
            <span class="loading-letter">m</span>
            <span class="loading-letter">e</span>
            <span class="loading-letter">H</span>
            <span class="loading-letter">u</span>
            <span class="loading-letter">b</span>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="fixed bottom-20 right-6 z-[9999] flex flex-col gap-3 items-end" role="status" aria-live="polite" aria-label="Уведомления"></div>
    
    <!-- Notification History Button -->
    <button id="notification-history-btn" class="hidden fixed bottom-6 right-6 text-gray-200 rounded-full w-14 h-14 flex items-center justify-center shadow-lg z-[9999] text-2xl transition" title="Уведомления" aria-label="История уведомлений">
        <i class="fas fa-bell" aria-hidden="true"></i>
    </button>
    
    <!-- Notification History Modal -->
    <div id="notification-history-modal" class="hidden fixed bottom-24 right-6 rounded-xl shadow-2xl w-80 max-h-[60vh] flex flex-col z-[9999]" role="dialog" aria-modal="true" aria-labelledby="notification-history-title">
        <div class="flex items-center justify-between px-5 py-4 border-b">
            <span class="font-bold text-gray-100 text-lg flex items-center gap-2" id="notification-history-title"><i class="fas fa-bell" aria-hidden="true"></i> Уведомления</span>
            <button id="clear-notifications" class="text-gray-300 hover:text-gray-100 transition text-sm" aria-label="Очистить все уведомления">Очистить</button>
        </div>
        <div id="notification-history-list" class="flex-1 overflow-y-auto p-4 space-y-3" role="list" aria-label="История уведомлений"></div>
    </div>

    <!-- Password Reset Modal -->
    <div id="reset-password-modal" class="auth-modal fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[9999] backdrop-blur-sm hidden" role="dialog" aria-modal="true" aria-labelledby="reset-password-modal-title">
        <div class="auth-content bg-gray-900 rounded-xl p-8 shadow-2xl border border-gray-700 text-white w-full max-w-md mx-4">
            <h2 class="text-2xl font-bold text-gray-100 mb-6 text-center" id="reset-password-modal-title">Восстановить учетную запись</h2>
            <button type="button" class="absolute top-4 right-4 text-gray-400 hover:text-gray-200 transition" id="close-reset-password-modal" aria-label="Закрыть">
                <i class="fas fa-times text-xl"></i>
            </button>
            <div id="reset-password-message" role="alert" aria-live="polite"></div>
            <form id="reset-password-form" class="auth-form active">
                <input type="email" id="reset-email" placeholder="Email" required aria-label="Email для восстановления" class="w-full px-4 py-3 bg-gray-800 text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 border border-gray-700 mb-4">
                <button type="submit" class="w-full bg-gray-700 hover:bg-gray-600 text-gray-200 px-4 py-3 rounded-lg font-medium transition-all duration-300 shadow-md">Найти аккаунт</button>
            </form>
            <form id="set-new-password-form" class="auth-form" style="display:none">
                <input type="password" id="reset-new-password" placeholder="Новый пароль" required aria-label="Новый пароль" class="w-full px-4 py-3 bg-gray-800 text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 border border-gray-700 mb-4">
                <input type="password" id="reset-confirm-password" placeholder="Подтвердите новый пароль" required aria-label="Подтверждение нового пароля" class="w-full px-4 py-3 bg-gray-800 text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 border border-gray-700 mb-6">
                <button type="submit" class="w-full bg-gray-700 hover:bg-gray-600 text-gray-200 px-4 py-3 rounded-lg font-medium transition-all duration-300 shadow-md">Сменить пароль</button>
            </form>
        </div>
    </div>

    <!-- Delete Account Modal -->
    <div id="delete-account-modal" class="auth-modal fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[9999] backdrop-blur-sm hidden" role="dialog" aria-modal="true" aria-labelledby="delete-account-modal-title">
        <div class="auth-content bg-gray-900 rounded-xl p-8 shadow-2xl border border-gray-700 text-white w-full max-w-md mx-4">
            <h2 class="text-2xl font-bold text-gray-100 mb-6 text-center" id="delete-account-modal-title">Удалить аккаунт</h2>
            <button type="button" class="absolute top-4 right-4 text-gray-400 hover:text-gray-200 transition" id="close-delete-account-modal" aria-label="Закрыть">
                <i class="fas fa-times text-xl"></i>
            </button>
            <p class="text-gray-300 mb-6 text-center">Вы уверены, что хотите удалить свой аккаунт? Это действие необратимо.</p>
            <div id="delete-account-message" class="mb-4 text-center text-sm text-gray-300" role="alert" aria-live="polite"></div>
            <div class="flex gap-4 justify-center">
                <button id="confirm-delete-account" class="bg-gray-700 hover:bg-gray-600 text-gray-200 px-6 py-3 rounded-lg font-medium transition-all duration-300 shadow-md">Удалить</button>
                <button id="cancel-delete-account" class="bg-gray-700 hover:bg-gray-600 text-gray-200 px-6 py-3 rounded-lg font-medium transition-all duration-300 shadow-md">Отмена</button>
            </div>
        </div>
    </div>

    <!-- About Modal -->
    <div id="about-modal" class="auth-modal fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[9999] backdrop-blur-sm hidden" role="dialog" aria-modal="true" aria-labelledby="about-modal-title">
        <div class="auth-content bg-gray-900 rounded-xl p-8 shadow-2xl border border-gray-700 text-white w-full max-w-md mx-4">
            <h2 class="text-2xl font-bold text-gray-100 mb-6 text-center" id="about-modal-title">О проекте</h2>
            <div class="space-y-6 text-gray-300">
                <div class="text-center">
                    <i class="fas fa-gamepad text-gray-400 text-4xl mb-4" aria-hidden="true"></i>
                    <h3 class="text-gray-100 font-medium text-lg">GameHub</h3>
                    <p class="text-sm">Версия 1.0.0</p>
                </div>
                <div>
                    <p>GameHub - это современный веб-портал для поиска и каталогизации игр. Мы стремимся создать лучшее место для геймеров, где они могут найти новые игры, общаться с друзьями и быть в курсе последних новостей игровой индустрии.</p>
                </div>
                <div>
                    <h4 class="text-gray-100 font-medium mb-2">Ссылки:</h4>
                    <div class="flex space-x-4">
                        <a href="https://discord.gg/tyCKVa3a" class="text-gray-400 hover:text-gray-200 flex items-center transition">
                            <i class="fab fa-discord mr-2" aria-hidden="true"></i> Discord
                        </a>
                        <a href="https://www.instagram.com/bazooka_official" class="text-gray-400 hover:text-gray-200 flex items-center transition">
                            <i class="fab fa-instagram mr-2" aria-hidden="true"></i> Instagram
                        </a>
                    </div>
                </div>
            </div>
            <div class="mt-8 text-center">
                <button id="close-about" class="bg-gray-700 hover:bg-gray-600 text-gray-200 px-6 py-3 rounded-lg font-medium transition-all duration-300 shadow-md">Закрыть</button>
            </div>
        </div>
    </div>

    <!-- JavaScript Modules -->
    <script type="module" src="js/main.js"></script>
</body>
</html>